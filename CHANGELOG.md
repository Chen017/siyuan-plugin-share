# 更新日志

## 0.3.8 进行中

- [x] 将全量分享优化为增量分享，仅同步变更内容；通过优化内部逻辑，显著提升了分享速度。
- [ ] 待反馈其他问题

## 0.3.7 2026/2/6

- [x] 修复表格中有合并分享后布局错乱及列数显示异常的问题 [Issues 22](https://github.com/b8l8u8e8/siyuan-plugin-share/issues/22)
- [x] 内嵌 IFrame 支持全屏模式，并在右上角提供全屏切换及取消控件。 [Issues 23](https://github.com/b8l8u8e8/siyuan-plugin-share/issues/23)
- [x] 修复公式排版中的垂直对齐偏移问题。 [Issues 26](https://github.com/b8l8u8e8/siyuan-plugin-share/issues/26)
- [x] 修复有时候第一次打开分享页不渲染的bug  [Issues 26](https://github.com/b8l8u8e8/siyuan-plugin-share/issues/26)
- [x] 修复其他数学公式显示问题 [Issues 33](https://github.com/b8l8u8e8/siyuan-plugin-share/issues/33)
- [x] 修复笔记本分享页在未加载文档时文档树位置偏上的布局偏移问题
- [x] 对引用分享生成的脚注，除脚注跳转外，支持窗口打开方式：点击脚注预览图标可弹窗查看内容，阅读时无需再在正文与脚注间来回切换。
- [x] [Chen017](https://github.com/Chen017) 修复了在深色模式下代码高亮的适配问题

## 0.3.6 2026/2/3

- [x] 提示块适配自定义标题，提示块适配自定义表情，同时提示块样式更符合思源笔记默认风格 [Issues 18](https://github.com/b8l8u8e8/siyuan-plugin-share/issues/18)

- [x] 修复部分分享页面自定义表情显示不出来的 Bug 
- [x] 修复移动端滑动时，在部分显示区域（如表格区域等）无法滑动的问题  [Issues 20](https://github.com/b8l8u8e8/siyuan-plugin-share/issues/20)
- [x] 修复电脑端、手机端、分享页在深色模式下的适配问题 [Issues 21](https://github.com/b8l8u8e8/siyuan-plugin-share/issues/21)
- [x] 优化目录显示细节：解决标题级别跳跃时的缩进问题。例如当 h1 下直接包裹 h6，而另一个 h1 下包裹 h2 时，第一个 h1 下的 h6 不应按原 h6 层级深层缩进，而应自动对齐至 h2 的位置显示(因缺少 h2-h5 级标题)
- [x] 移动端 IFrame 应禁用原生滚动，改为根据屏幕宽度自动缩放并居中适配。
- [x] 修复移动端分享页面视频纵横比失真问题，实现自适应比例渲染。

## 0.3.5 2026/2/1

- [x] 支持分享页内容动态加载，加载期间用户可正常进行其他操作，消除等待焦虑。
- [x] 优化文档树交互逻辑，进入文档时不再整体刷新，保持当前的展开/折叠状态，确保阅读连续性。
- [x] 重构目录布局，将“正文”与“引用/脚注”标题彻底分离；引用内容的标题后新增脚注标记，支持一键跳转回原文位置。
- [x] 插件端新增分享检测机制，若思源笔记引用设置不当可能导致分享的引用失效时，插件将主动提醒，确保分享内容的完整性。
- [x] 修复了正文与引用脚注混杂时的目录层级错位问题（如正文 H2 与引用 H1 的逻辑对齐优化）。
- [x] 优化其他细节
- [x] 修复其他bug

## 0.3.4 2026/1/27

- [x] 新增`管理员后台站点设置-网站地址`设置及说明弹窗，可固定分享链接前缀来解决部分问题，例如容器是http，反向代理是https，导致分享链接全部是http的问题、使用ip+端口服务端，分享链接里面没有端口的问题，都可以固定分享链接前缀彻底解决该问题 [Issues 11](https://github.com/b8l8u8e8/siyuan-plugin-share/issues/11)
- [x] 数据统计功能的优化和增加
- [x] 优化其他细节
- [x] 分享页文档树和文档增加支持思源笔记添加的自定义表情 [Issues 16](https://github.com/b8l8u8e8/siyuan-plugin-share/issues/16)
- [x] 修复其他bug

## 0.3.3 2026/1/26

- [x] 笔记本或文档及子文档分享后，顺序严格与思源笔记文档树中顺序一致，包括手动调整顺序后，更新内容对应分享顺序也应该保持一致 [Issues 14](https://github.com/b8l8u8e8/siyuan-plugin-share/issues/14)
- [x] 修复分享时资源获取失败的bug，例如分享思源官方的笔记本`思源笔记用户指南 ` [Issues 5](https://github.com/b8l8u8e8/siyuan-plugin-share/issues/5)
- [x] 分享页面文档树美化和功能增加(一键折叠、展开，文档树样式优化，文档树显示图标)
- [x] 插件端小细节优化
- [x] 修复其他bug

## 0.3.2 2026/1/24

- [x] 优化服务端分享页图片预览功能细节 [Issues 12](https://github.com/b8l8u8e8/siyuan-plugin-share/issues/12)
- [x] 优化分享页目录细节
- [x] 其他小细节优化
- [x] 插件端分享上传优化

## 0.3.1 2026/1/22

- [x] 服务端修复分享页图片显示问题 [Issues 9](https://github.com/b8l8u8e8/siyuan-plugin-share/issues/9)
- [x] 用户访问概览访问记录显示具体链接，不再显示根文档链接 [Issues 6](https://github.com/b8l8u8e8/siyuan-plugin-share/issues/6)

## 0.3.0 2026/1/22

- [x] 分享页增加适配 `提示块、脑图、图表、五线谱、Graphviz、Flowchart、PlantUML` 和 `代码块、IFrame` 细节优化
- [x] 分享文档默认只分享该单篇文档，可以勾选同时分享子文档 [Issues 6](https://github.com/b8l8u8e8/siyuan-plugin-share/issues/6)
- [x] 修复安全问题，若您使用的是Docker部署，只需更新到本版本或更高版本，无需其他操作；若使用的是面板部署，则需要修改伪静态配置，具体操作请参见该版本的发布页面[Release](https://github.com/b8l8u8e8/siyuan-plugin-share/releases/tag/v0.3.0)。 [Issues 8](https://github.com/b8l8u8e8/siyuan-plugin-share/issues/8)
- [x] 优化部分细节

## 0.2.7 2026/1/20

- [x] 插件端加入复制分享信息，类似百度网盘，包含分享的标题，链接，密码，到期时间，访客人数限制等等，复制后不单单只有链接，可以直接粘贴发送其他人
- [x] 服务端管理员后台增加数据统计，显示面板所有相关指标的数据统计

![数据统计图](https://github.com/user-attachments/assets/1912b571-423e-4691-8d64-8244be456d2e)

- [x] 服务端站点设置违禁词同时应用在分享页评论中，触发违禁词将无法评论
- [x] 服务端违禁词扫描除了扫描上传分享的内容也扫描评论内容
- [x] 服务端分享页面提供查看markdown源码功能，更便利的复制分享内容

## 0.2.6 2026/1/19

- [x] 插件文档增加赞助者列表
- [x] 服务端后台管理员可以手动创建账号 [Issues 4](https://github.com/b8l8u8e8/siyuan-plugin-share/issues/4)
- [x] 服务端新版本提示优化
- [x] 服务端细节优化

## 0.2.5 2026/1/15

- [x] 服务端分享页面图片点开可以放大预览 [Issues 2](https://github.com/b8l8u8e8/siyuan-plugin-share/issues/2)
- [x] 服务端手机版分享页面评论显示问题修复
- [x] 插件端文档增加贡献列表
- [x] [CoderXiaopang](https://github.com/CoderXiaopang) 为服务端增加Docker、Nas部署方法

## 0.2.4 2026/1/13

- [x] 插件端增加多站点设置，可以配置多个服务端一键切换，不用每次换服务端重新填写
- [x] 修复分享时资源上传过多会失败如200+若有一个资源失败则全会失败的问题，加入失败重试机制
- [x] 分享上传优化机制
- [x] 插件端细节优化

## 0.2.3 2026/1/9

- [x] 服务端网站密码页底部设计问题修复
- [x] 增加分享页底部评论功能，同时网站分享列表可以开启评论邮件通知
- [x] 服务端网站账号设置中添加换绑邮箱的功能
- [x] 优化服务端网站细节
- [x] 分享页面添加举报功能，举报后会出现在管理员后台举报管理中

## 0.2.2 2026/1/8

- [x] 服务端登录有效期改为30天，避免一关闭浏览器就需要重新登录导致频繁登录
- [x] 服务端访问统计支持显示记录已经占用了多少空间
- [x] 服务端网站增加新版本提示，当前版本显示
- [x] 增加分享的访客数限制，超过访客数后不能继续访问，和到期时间到期类似
- [x] 分享上传优化，动态调整

## 0.2.1 2026/1/6

- [x] 移动端分享界面调整
- [x] 增加只更新访问密码和到期时间的按钮(更新访问设置)，避免更新这些也要上传整个文档导致时间增加 
- [x] 分享上传改为并发上传，速度更快
- [x] 分享页面字体调整更似markdown字体风格
- [x] 笔记本分享的文档树保持持久化，而不是点击一个文档之后全部折叠
- [x] 服务端网站用户端增加访问统计，可以让用户了解自己分享的文档访问情况如何
- [x] 修复移动端分享完文档树没有出现分享图标，需要退出重进软件才有

## 0.2.0 2026/1/5

- [x] 优化服务端登录和注册
- [x] 服务端管理员后台增加手动分片清理的功能，对于用户上传一半取消的情况，缓存的分片可以通过后台清理
- [x] 修复上传一半取消服务端网站有分享记录的问题
- [x] 修复服务端网站不适配移动端的问题
- [x] 修复katex公式显示与默认显示风格不一样的问题

## 0.1.2 2026/1/5

- [x] 优化细节
- [x] 分享文档和笔记本时上传改为分片上传，避免太大导致上传失败

## 0.1.1 2026/1/4

- [x] 插件初版
- [x] 服务端初版

